# Описание хода выполнения задания

Данные по проекту помещены в 3 репозитория:
1. https://github.com/kav76/sf-devops-diplom.git - Данный репозиторий. Здесь скриншоты и описание процесса выполнения работы.
2. https://github.com/kav76/sf-devops-diplom-deployment.git - Файлы автоматизации создания инфраструктуры (создание виртуальных серверов, установка программ, создание кластера)
3. https://github.com/kav76/sf-devops-diplom-application.git - Файлы самого разворачиваемого приложения, скрипты автоматизации процесса деплоя.

## Общая информация
Процесс установки и настройки разбит на этапы, а этапы - на шаги. Скрипты этапов помещены в отдельные каталоги. Каталоги пронумерованы в порядке выполнения.
Процесс установки описан в файле `Readme.md` каждого из репозиториев.

## Процесс выполнения проекта
Выполнение первых 5 этапов подробно расписаны в [инструкции по установке серверов](https://github.com/kav76/sf-devops-diplom-deployment/blob/main/Readme.md). В результате получаем 3 виртуальных сервера на `Yandex.Cloud`:
- master.local - управляющий сервер кластера Kubernetes
- app-1.local - рабочая нода кластера
- management.local - сервер управления и мониторинга

Количество рабочих нод в кластере можно увеличить, внеся дополнительные адреса в файлы inventory в раздел [nodes] и повторно выполнив шаги установки.

Скриншоты установленных серверов в каталоге `/Servers`.
Скриншоты кластера в каталоге `/Cluster`.

Далее через вэб интерфейс Jenkins'а устанавливаем плаги для работы с `Ansible` (Плагин с одноименным названием) и настраиваем пайплайн. Скриншоты в каталоге `/Jenkins`. Пайплайн расшифровывает файлы паролей для Ansible и запускает `Ansible playbook`, который и выполняет основную работу - из скаченного содержимого репозитория приложения собирает образ `Docker` на сервере `management.local`, выкладывает его на `docker hub`, затем уже на `master.local` запускает `Helm chart`, который находит по тэгу свежесобранный образ на `docker hub` и разворачивает приложение на кластере. Весь процесс происходит автоматически.





